<!DOCTYPE html>
<html>
<head>
	<title>Functions</title>
	<link rel="stylesheet" type="text/css" href="styles/js-console.css" />
</head>
<body>
	<div class="user-input">
		<label for="sequence">Sequence: </label>
		<input type="text" id="sequence" />
		<span>Comma separated list of numbers.</span>
		<input type="submit" onclick="onClickPrintFirstBiggerNighbor()" />
	</div>
	<div id="js-console"></div>
	<script src="scripts/js-console.js"></script>
	<script>
		jsConsole.writeLine('7. Write a function that returns the index of the first element in array that is bigger than its neighbors, or -1, if thereâ€™s no such element.');
		function onClickPrintFirstBiggerNighbor() {
			var sequence = jsConsole.read("#sequence").split(",");

			var index = findFirstBiggerNieghbor(sequence);
			jsConsole.writeLine("Number " + sequence[index] + " on position " + index + " is bigger than it's neighbors.");
		}

		function findFirstBiggerNieghbor(sequence) {
			for (var i = 0; i < sequence.length; i++) {
				if (compareToNeighbors(sequence, i)) {
					return i;
				}
			}

			return -1;
		}

		function compareToNeighbors(sequence, index) {
			var isBigger = true;
			var element = sequence[index];
			if (index > 0 && element < sequence[index - 1]) {
				isBigger = false;
			}
			
			if (index < sequence.length - 1 && element < sequence[index + 1]) {
				isBigger = false;
			}

			return isBigger;
		}
	</script>
</body>
</html>